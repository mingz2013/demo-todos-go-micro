webpackJsonp([1],{"+skl":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("7+uW"),i=e("BTaQ"),s=e.n(i),c=(e("+skl"),e("mtWM")),l=e.n(c),d=e("Rf8U"),r=e.n(d),u=e("/ocq"),a=e("woOf"),f=e.n(a),m={name:"Add",data:function(){return{item:{}}},methods:{onBtnClick:function(){var t=this;this.$store.dispatch("addTodo",f()({},this.item)).then(function(n){t.$Message.success("success")}).catch(function(n){t.$Message.error(n.detail||n)})}}},h={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._v("\n  title: "),e("Input",{model:{value:t.item.title,callback:function(n){t.$set(t.item,"title",n)},expression:"item.title"}}),t._v("\n  content: "),e("Input",{attrs:{type:"textarea"},model:{value:t.item.content,callback:function(n){t.$set(t.item,"content",n)},expression:"item.content"}}),t._v(" "),e("Button",{on:{click:t.onBtnClick}},[t._v("提交")])],1)},staticRenderFns:[]},p=e("VU/8")(m,h,!1,null,null,null).exports,v={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",t._l(t.items,function(n){return e("CheckboxGroup",{key:n.title},[e("Checkbox",{attrs:{label:n.title}}),t._v(" "),e("Button",{on:{click:function(e){return t.onBtnDetailClick(n.id)}}},[t._v("detail")]),t._v(" "),e("Button",{on:{click:function(e){return t.onBtnEditClick(n.id)}}},[t._v("edit")]),t._v(" "),e("Button",{on:{click:function(e){return t.onBtnRemoveClick(n.id)}}},[t._v("remove")])],1)}),1)},staticRenderFns:[]},g=e("VU/8")({name:"TodoList",data:function(){return{}},mounted:function(){this.getList()},computed:{items:function(){return this.$store.state.todos.todos}},methods:{onBtnDetailClick:function(t){this.$router.push({path:"todos/detail/"+t})},onBtnEditClick:function(t){this.$router.push({path:"todos/edit/"+t})},onBtnRemoveClick:function(t){var n=this;this.$store.dispatch("removeTodo",t).then(function(t){n.$Message.success("success")}).catch(function(t){n.$Message.error(t.detail||t)})},onCheckClick:function(){},getList:function(){var t=this;this.$store.dispatch("getTodos").then(function(n){t.$Message.success("success")}).catch(function(n){t.$Message.error(n.detail||n)})}}},v,!1,null,null,null).exports,_={name:"Index",components:{TodoList:g,Add:p},data:function(){return{}}},k={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("h1",[n("router-link",{attrs:{to:{path:"/todos"}}},[this._v("todos")])],1),this._v(" "),n("Add"),this._v(" "),n("router-view")],1)},staticRenderFns:[]},$=e("VU/8")(_,k,!1,null,null,null).exports,T={name:"Detail",data:function(){return{item:{}}},props:["id"],mounted:function(){console.log("mounted..."),console.log(this.item),this.item=this.$store.getters.getTodoById(this.id)||{},console.log(this.item)}},B={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("h4",[this._v(this._s(this.item.title))]),this._v(" "),n("div",[n("p",[this._v("\n      "+this._s(this.item.content)+"\n    ")])])])},staticRenderFns:[]},x=e("VU/8")(T,B,!1,null,null,null).exports,y={name:"Edit",data:function(){return{item:{title:"",content:""}}},props:["id"],mounted:function(){console.log("mounted"),console.log(this.item),this.item=this.$store.getters.getTodoById(this.id)||{},console.log(this.item)},methods:{onBtnClick:function(){var t=this;this.$store.dispatch("editTodo",this.item).then(function(n){t.$Message.success("success")}).catch(function(n){t.$Message.error(n.detail||n)})}}},C={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._v("\n  title: "),e("Input",{model:{value:t.item.title,callback:function(n){t.$set(t.item,"title",n)},expression:"item.title"}}),t._v("\n  content: "),e("Input",{attrs:{type:"textarea"},model:{value:t.item.content,callback:function(n){t.$set(t.item,"content",n)},expression:"item.content"}}),t._v(" "),e("Button",{on:{click:t.onBtnClick}},[t._v("提交")])],1)},staticRenderFns:[]},b=e("VU/8")(y,C,!1,null,null,null).exports;o.default.use(u.a);var w=new u.a({routes:[{path:"/",redirect:"/todos"},{path:"/todos",name:"Index",component:$,children:[{path:"",component:g},{path:"list",component:g},{path:"edit/:id",props:!0,component:b},{path:"detail/:id",props:!0,component:x},{path:"add",component:p}]}]}),E=e("NYxO"),M=e("//Fk"),R=e.n(M),I=l.a.create({baseURL:"http://localhost:8080/todos/"}),U={state:{todos:[{id:"1",title:"item1",content:"111111111111111"},{id:"2",title:"item2",content:"111111111111111"},{id:"3",title:"item3",content:"111111111111111"},{id:"4",title:"item4",content:"111111111111111"}]},getters:{doneTodos:function(t){return t.todos.filter(function(t){return t.done})},doneTodosCount:function(t,n){return n.doneTodos.length},getTodoById:function(t){return function(n){return console.log("id",n),t.todos.find(function(t){return console.log(t),t.id===n})}}},mutations:{addTodo:function(t,n){t.todos.push(n)},removeTodo:function(t,n){t.todos=t.todos.filter(function(t){return t.id!==n})},editTodo:function(t,n){t.todos.forEach(function(e,o){t.todos[o]=e.id===n.id?n:t.todos[o]})},updateTodos:function(t,n){t.todos=n}},actions:{addTodo:function(t,n){return new R.a(function(e,o){I.post("/todo/add",n).then(function(i){console.log("add",i),i.data.success?(n=i.data.todo,t.commit("addTodo",n),e(n)):o(i.data.error)}).catch(function(t){console.log(t),o(t)}).finally(function(){console.log("finally...")})})},removeTodo:function(t,n){return new R.a(function(e,o){I.post("/todo/del",{id:n}).then(function(i){console.log("del",i),i.data.success?(t.commit("removeTodo",n),e(n)):o(i.data.error)}).catch(function(t){console.log(t),o(t)}).finally(function(){console.log("finally...")})})},editTodo:function(t,n){return new R.a(function(e,o){I.post("/todo/edit",n).then(function(i){console.log("edit",i),i.data.success?(t.commit("editTodo",n),e(n)):o(i.data.error)}).catch(function(t){console.log(t),o(t)}).finally(function(){console.log("finally...")})})},getTodos:function(t){return new R.a(function(n,e){I.post("/todo/list",{}).then(function(o){if(console.log("list",o),o.data.success){var i=o.data.todos||[];t.commit("updateTodos",i),n(i)}else e(o.data.error)}).catch(function(t){console.log(t),e(t)}).finally(function(){console.log("finally...")})})}}},F={state:{count:0},mutations:{increment:function(t){t.count++}},actions:{increment:function(t){t.commit("increment")}},getters:{}};o.default.use(E.a);var A=new E.a.Store({modules:{todos:U,count:F}}),V={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var L=e("VU/8")({name:"App"},V,!1,function(t){e("ynCb")},null,null).exports;o.default.use(r.a,l.a),o.default.use(s.a),o.default.config.productionTip=!1,new o.default({el:"#app",router:w,store:A,components:{App:L},template:"<App/>"})},ynCb:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.4aa1d317e1bc0f71228e.js.map